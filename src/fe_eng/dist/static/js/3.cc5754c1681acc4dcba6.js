webpackJsonp([3],{"+0CC":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.title-style {\n  font-size: 1em;\n  font-weight: 700;\n  color: #676767;\n}\n.add-hotline-form .el-card__header {\n  padding: 10px 20px !important;\n  text-align: center !important;\n  font-size: 16px;\n  color: #000;\n}\n.add-hotline-form .el-card__body {\n  text-align: center;\n  font-size: 12px;\n}\n.add-hotline-form .el-card__body .price-cover {\n    margin-top: 0;\n    color: #3A71A8;\n}\n.add-hotline-form .el-card__body .price-cover .price {\n      font-size: 24px;\n}\n.box-style {\n  text-align: center;\n  cursor: pointer;\n  border: 1px solid #f1f1f1;\n  color: #6e6e71;\n  padding: 1.20rem;\n}\n.style-select {\n  background: rgba(0, 136, 204, 0.05);\n  border: 1px solid #0088cc;\n  color: #676767;\n}\n.style-select .el-card__body .price-cover {\n    color: #0088cc;\n}\n.hotline-info .el-card__body {\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.item {\n  /*margin-top: 1.5em;*/\n  padding: 1.2em 0 1em 0;\n  border-bottom: 1px solid #f4f4f5;\n}\n.text {\n  font-weight: bold;\n  padding-left: 80px;\n  font-size: 18px;\n}\n",""])},"9HJX":function(t,e,n){var i=n("+0CC");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("0da1914f",i,!0,{})},UHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"add_normal",data:function(){return{addons_ql:[],name:"",value:1,price:1e4,unit:"",edit:!1,id:"",dialogFormVisible:!1,feature:[],further_name:"",further_value:0,further_unit:"MB",further_price:1,further_feature:[{value:"minhvu"},{value:"deptrai"},{value:"hocgioi"}]}},mounted:function(){this.get_addon_user()},methods:{get_addon_user:function(){this.$http.get("/addon",{headers:{Authorization:this.$session.get("token")}}).then(function(t){var e=[];if(!0===t.body.status){for(var n=0;n<t.data.data.length;n++)"normal"===t.data.data[n].kind&&e.push(t.data.data[n]);for(var i in e)e[i].check=!1;this.addons_ql=e,this.addons_ql[0].check=!0,this.name=this.addons_ql[0].name,this.value=this.addons_ql[0].value,this.price=this.addons_ql[0].price,this.unit=this.addons_ql[0].unit,this.id=this.addons_ql[0].id;var a=this.addons_ql[0].feature,s=[];for(var r in a){var o={value:a[r]};s.push(o)}this.feature=s}console.log(this.addons_ql)})},selectPack:function(t){this.name=t.name,this.value=t.value,this.price=t.price,this.unit=t.unit,this.id=t.id;var e=[];for(var n in t.feature){var i={value:t.feature[n]};e.push(i)}if(this.feature=e,!1===t.check)for(var a in t.check=!0,this.addons_ql)this.addons_ql[a].id!==t.id&&(this.addons_ql[a].check=!1)},cancle:function(){this.edit=!1,this.get_addon_user()},add_addon:function(){var t=this,e=[];for(var n in this.further_feature)e.push(this.further_feature[n].value);if(""===this.further_name)this.$message.error("Tên addon trống !");else{var i={name:this.further_name,price:this.further_price,kind:"normal",feature:e};this.$http.post("/addon",i,{headers:{Authorization:this.$session.get("token")}}).then(function(t){!0===t.body.status&&(this.$notify({title:"Success",message:t.body.message,type:"success"}),this.get_addon_user())},function(e){t.$notify.error({title:"Error",message:e.body.message})})}},delete_addon:function(){var t=this,e={id:this.id};this.$http.delete("/addon",{headers:{Authorization:this.$session.get("token")},body:e}).then(function(t){!0===t.body.status&&(this.$notify({title:"Success",message:t.body.message,type:"success"}),this.get_addon_user())},function(e){t.$notify.error({title:"Error",message:e.body.message})})},open2:function(){var t=this;this.$confirm("Xoá addon "+this.name+" . Tiếp tục?","Xác nhận",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){t.delete_addon()}).catch(function(){t.$message({type:"info",message:"Delete canceled"})})},edit_addon:function(){var t=this,e=[];for(var n in this.feature)e.push(this.feature[n].value);if(""===this.name)this.$message.error("Tên addon trống !");else{var i={id:this.id,name:this.name,price:this.price,kind:"normal",feature:e};this.$http.put("/addon",i,{headers:{Authorization:this.$session.get("token")}}).then(function(t){!0===t.body.status&&(this.$notify({title:"Success",message:t.body.message,type:"success"}),this.edit=!1,this.get_addon_user())},function(e){t.$notify.error({title:"Error",message:e.body.message})})}},open3:function(){var t=this,e=0;for(var n in this.feature)if(""===this.feature[n].value){e=1;break}if(""===this.name)this.$message.error("Tên addon trống !");else if(1===e)this.$message.error("Thiếu thông tin tính năng !");else{var i="";for(var a in this.addons_ql)this.addons_ql[a].id===this.id&&(i=this.addons_ql[a].name);this.$confirm("Thay đổi thông tin addon "+i+" . Tiếp tục?","Xác nhận",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){t.edit_addon()}).catch(function(){t.$message({type:"info",message:"Edit canceled"})})}},pop_item:function(t){this.further_feature.splice(t,1)},add_further_feature:function(){this.further_feature.unshift({value:""})},pop_item_edit:function(t){this.feature.splice(t,1)},add_feature:function(){this.feature.unshift({value:""})}}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:"Thông tin addon cần thêm",visible:t.dialogFormVisible,width:"45%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",[n("el-form-item",[n("el-row",[n("el-col",{staticStyle:{"padding-left":"40px"},attrs:{span:12}},[n("strong",[t._v("Tên addon")])]),t._v(" "),n("el-col",{staticStyle:{"padding-right":"40px"},attrs:{span:12}},[n("el-input",{attrs:{placeholder:"Tên package"},model:{value:t.further_name,callback:function(e){t.further_name=e},expression:"further_name"}})],1)],1),t._v(" "),n("el-row",{staticStyle:{"padding-top":"20px"}},[n("el-col",{staticStyle:{"padding-left":"40px"},attrs:{span:12}},[n("strong",[t._v("Giá")])]),t._v(" "),n("el-col",{staticStyle:{"padding-right":"40px"},attrs:{span:12}},[n("el-input-number",{attrs:{min:1,max:1e9,size:"medium"},model:{value:t.further_price,callback:function(e){t.further_price=e},expression:"further_price"}})],1)],1),t._v(" "),n("el-row",{staticStyle:{"padding-top":"20px"}},[n("el-col",{staticStyle:{"padding-left":"40px"},attrs:{span:12}},[n("strong",[t._v("Tính năng")]),t._v(" "),n("el-button",{staticStyle:{"padding-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:t.add_further_feature}},[n("i",{staticClass:"fas fa-plus-circle"}),t._v(" Thêm tính năng")])],1)],1),t._v(" "),n("el-row",{staticStyle:{"padding-left":"40px"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.further_feature}},[n("el-table-column",{attrs:{label:"Valuess"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("el-input",{attrs:{placeholder:"Tính năng",clearable:""},model:{value:e.row.value,callback:function(n){t.$set(e.row,"value",n)},expression:"scope.row.value"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"right",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{circle:"",size:"mini",type:"danger",plain:"",icon:"el-icon-error"},on:{click:function(n){return t.pop_item(e.$index)}}})]}}])})],1)],1)],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Cancel")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.add_addon}},[t._v("Confirm")])],1)],1),t._v(" "),n("el-row",{staticStyle:{"padding-top":"8px"}},[n("el-col",{attrs:{span:14}},[n("div",{staticClass:"app-container",staticStyle:{"padding-left":"20px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{xs:24,sm:24,md:24}},[n("el-card",{attrs:{shadow:"never"}},[n("div",{staticClass:"clearfix",staticStyle:{position:"relative"},attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{"font-weight":"bold","font-size":"20px"}},[t._v("Addon normal")]),t._v(" "),n("el-button",{staticStyle:{"padding-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[n("i",{staticClass:"fas fa-plus-circle"}),t._v(" Thêm mới")])],1),t._v(" "),n("el-row",{staticStyle:{"margin-left":"0!important","margin-right":"0!important","margin-top":"30px"},attrs:{gutter:20}},t._l(t.addons_ql,function(e){return n("el-col",{key:e.id,attrs:{span:8}},[n("center",[n("el-card",{staticClass:"box-style",class:{"style-select":e.check},nativeOn:{click:function(n){return t.selectPack(e)}}},[n("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n                        "+t._s(e.name)+"\n                      ")]),t._v(" "),n("div",[n("p",{staticClass:"price-cover"},[n("span",{staticClass:"price"},[t._v(t._s(t._f("formatMoney")(e.price)))])]),t._v(" "),n("p",{staticStyle:{"padding-top":"20px"}},[t._v("Value "+t._s(e.value))]),t._v(" "),n("p",{staticStyle:{"padding-top":"20px"}},[t._v("Unit "+t._s(e.unit))])])])],1)],1)}),1)],1)],1)],1)],1)]),t._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"app-container",staticStyle:{"padding-right":"10px","padding-left":"0px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{xs:24,sm:24,md:24}},[n("el-card",{attrs:{shadow:"never"}},[n("div",{staticClass:"clearfix",staticStyle:{position:"relative"},attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{"font-weight":"bold","font-size":"20px"}},[t._v("Thông tin Addon")]),t._v(" "),n("div",{staticStyle:{float:"right"}},[n("el-button",{attrs:{icon:"el-icon-delete",type:"danger",plain:""},on:{click:t.open2}},[t._v("Xoá")])],1)]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("strong",[t._v("Tên gói :")])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("center",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}]},[t._v(t._s(t.name))]),t._v(" "),n("el-input",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],attrs:{placeholder:"Tên gói",clearable:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),n("el-row",{staticStyle:{"padding-top":"40px"}},[n("el-col",{attrs:{span:12}},[n("strong",[t._v("Chi phí :")])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("center",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],staticStyle:{color:"red"}},[t._v(t._s(t._f("formatMoney")(t.price))+" VNĐ")]),t._v(" "),n("el-input-number",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticStyle:{width:"100%"},attrs:{min:1,max:1e9,step:5},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)],1),t._v(" "),n("el-row",{staticStyle:{"padding-top":"40px"}},[n("strong",[t._v("Tính năng")]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticStyle:{"padding-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:t.add_feature}},[n("i",{staticClass:"fas fa-plus-circle"}),t._v(" Thêm")])],1),t._v(" "),n("el-row",[n("el-col",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.feature}},[n("el-table-column",{attrs:{label:"Value"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}]},[t._v("\n                          "+t._s(e.row.value)+"\n                          ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}]},[n("el-input",{attrs:{placeholder:"Tính năng",clearable:""},model:{value:e.row.value,callback:function(n){t.$set(e.row,"value",n)},expression:"scope.row.value"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"right",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{disabled:!t.edit,circle:"",size:"mini",type:"danger",plain:"",icon:"el-icon-error"},on:{click:function(n){return t.pop_item_edit(e.$index)}}})]}}])})],1)],1)],1),t._v(" "),n("el-row",{staticStyle:{"padding-left":"80px","padding-top":"30px"}}),t._v(" "),n("el-row",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],staticStyle:{"padding-top":"35px"}},[n("center",[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.edit=!0}}},[t._v("Sửa đổi")])],1)],1),t._v(" "),n("el-row",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticStyle:{"padding-top":"15px"}},[n("center",[n("el-button",{attrs:{type:"success",plain:""},on:{click:t.open3}},[t._v("Lưu")]),t._v(" "),n("el-button",{attrs:{plain:""},on:{click:t.cancle}},[t._v("Huỷ")])],1)],1)],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var s=n("VU/8")(i,a,!1,function(t){n("9HJX")},null,null);e.default=s.exports}});